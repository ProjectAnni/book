# [Draft] Annil 音轨扩展

> ⚠️️目前的音频扩展仍处于 `Draft` 状态，尚未完全定稿。欢迎随时提出意见或建议。

针对互联网上流通较为广泛的单音轨音频，原本的 `Annil` 只能以专辑的形式分散管理。`Annil` 音轨扩展约定了针对单音轨音频的处理方式。

## 音频文件名

我们规定音频的文件名统一为 `{标题} - {艺术家}`。其中艺术家名称使用逗号 `,` 分隔，**不采用 `Anni` 音频约定中的形式**，以减短文件名长度。

以下文件名均为有效文件名：

```text
三月雨 - 洛天依,Wing翼
霜雪千年 - 洛天依,乐正绫,COPY
```

我们不建议使用 `Various Artists` 作为音轨的艺术家，因为容易产生冲突。

## 品番生成

为了最大程度兼容 `Annil` 协议，音轨扩展依然采用 `Annil` 的专辑-音轨形式，因此需要对每个音轨生成独一无二的品番。

品番通过 `UUIDv5` 生成，`Name` 为音频文件名，`Namespace` 如下：

```text
7696064f-415c-518e-a828-4d9019c3cf93
```

该预设 `UUID` 通过 `ns:DNS`、`anni.rs` 生成。

上文中音频文件名对应的品番如下：

```text
102e82a3-9949-5e09-a9e2-59895fa3f194 # 三月雨 - 洛天依,Wing翼
b8105a43-7a4e-5797-9084-f00f26abd829 # 霜雪千年 - 洛天依,乐正绫,COPY
```

## 音频获取

在尝试获取 `Annil` 音轨扩展定义的音频时，和一般的 `Annil` 音频相同，需要提供品番和音轨号。其中品番由上文定义，音轨号则强制为 1。
