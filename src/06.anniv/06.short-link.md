# 短链接管理

> ⚠️ 此处的短连接修改为 `Pastebin` 可能更加合适。

`Anniv` 内嵌了短链接服务，这项服务主要是为了播放列表的分享而实现的，但也可以作其他用途。

## 错误一览

| 错误代码 | 详情                     |
| -------- | ------------------------ |
| `106000` | 用户短链接存储数已达上限 |
| `106001` | 短链接不存在             |

## 获取短链接内容

### Endpoint

`GET /s/{link}`

### 请求

#### 请求参数

| 参数名 | 类型     | 详情         |
| ------ | -------- | ------------ |
| `link` | `string` | 短链接的短部 |

### 返回

返回短链接的实际内容。

### 错误列表

| 错误代码 | 详情         |
| -------- | ------------ |
| `106001` | 短链接不存在 |

## 获取短连接列表

### Endpoint

`GET /api/short`

### 返回

返回当前用户创建的所有短连接列表。

#### 返回参数

| 参数名 | 类型     | 详情         |
| ------ | -------- | ------------ |
| `name` | `string` | 短链接名称   |
| `link` | `string` | 短链接的短部 |

## 新增短链接

### Endpoint

`POST /api/short`

### 请求

#### 请求参数

| 参数名 | 类型     | 详情       |
| ------ | -------- | ---------- |
| `name` | `string` | 短链接名称 |
| `data` | `string` | 实际内容   |

### 返回

请求成功时，返回短链接的短部。

### 错误列表

| 错误代码 | 详情                     |
| -------- | ------------------------ |
| `106000` | 用户短链接存储数已达上限 |

## 删除短链接

### Endpoint

`DELETE /api/short`

### 请求

#### 请求参数

| 参数名 | 类型     | 详情               |
| ------ | -------- | ------------------ |
| `link` | `string` | 待删除短链接的短部 |

### 返回

请求成功时，返回 `204 No Content`。

## 错误列表

| 错误代码 | 详情         |
| -------- | ------------ |
| `106001` | 短链接不存在 |
