# Annil Token 管理

为了多客户端的同步考虑，`Anniv` 实现了对 `Annil` 的 `Token` 的保存。

## 错误一览

| 错误代码 | 详情                        |
| -------- | --------------------------- |
| `104000` | 用户 `Token` 存储数已达上限 |
| `104001` | `Token` 不存在              |

## 获取 Token

### Endpoint

`GET /api/credential`

### 请求

#### 请求参数

| 参数名 | 类型     | 详情                                 |
| ------ | -------- | ------------------------------------ |
| `id`   | `string` | 获取 `Token` 的 `ID`，省略时获取全部 |

### 返回

返回包含所有请求 `Token` 的数组。

## 新增 Token

### Endpoint

`POST /api/credential`

### 请求

#### 请求参数

| 参数名  | 类型     | 详情               |
| ------- | -------- | ------------------ |
| `name`  | `string` | `Annil` 名称       |
| `token` | `string` | `Annil Token` 内容 |

### 返回

请求成功时，返回 `204 No Content`。

#### 客户端实现指引

每次请求成功后，重新获取一遍 `Token` 列表。

## 错误列表

| 错误代码 | 详情                        |
| -------- | --------------------------- |
| `104000` | 用户 `Token` 存储数已达上限 |

## 删除 Token

### Endpoint

`DELETE /api/credential`

### 请求

#### 请求参数

| 参数名 | 类型     | 详情                   |
| ------ | -------- | ---------------------- |
| `id`   | `string` | 待删除 `Token` 的 `ID` |

### 返回

请求成功时，返回 `204 No Content`。

## 错误列表

| 错误代码 | 详情           |
| -------- | -------------- |
| `104001` | `Token` 不存在 |