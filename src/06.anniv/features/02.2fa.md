# 两步验证（2fa）

## 适用范围

- 用户注册
- 用户登录
- 用户注销
- 播放列表删除

TODO: 列举出用到 `2FA` 的所有位置

## 请求参数

| 参数名       | 类型     | 详情                                                            |
| ------------ | -------- | --------------------------------------------------------------- |
| `2fa_secret` | `string` | 两步验证的 `Secret`，注册时由客户端生成，验证成功后发送至服务端 |
| `2fa_code`   | `\d{6}`  | 两步验证的代码                                                  |


## 错误列表

| 错误代码 | 详情                       |
| -------- | -------------------------- |
| `202000` | 用户或服务端未启用两步验证 |
| `202001` | 两步验证代码错误           |
| `202002` | 两步验证 `Secret` 非法     |

## 接口列表

### 查询两步验证状态

查询某用户是否启用了两步验证。

#### Endpoint

`GET /api/features/2fa/enabled`

#### 请求参数

| 参数名  | 类型     | 详情             |
| ------- | -------- | ---------------- |
| `email` | `string` | 待查询用户的邮箱 |

#### 返回

一个布尔值，`false` 表示未启用，`true` 表示启用。
